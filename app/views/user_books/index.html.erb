<p id="notice"><%= notice %></p>

<h1>User Books</h1>

<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Book</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @user_books.each do |user_book| %>
      <tr>
        <% user = User.find_by(id: user_book.user_id)%>
        <% book = Book.find_by(id: user_book.book_id)%>
        <td><%= link_to user.username, user %></td>
        <td><%= link_to book.title, book %></td>
        <td><%= button_to 'Show', user_book, method: :get %></td>
        <td><%= button_to 'Edit', edit_user_book_path(user_book), method: :get %></td>
        <td><%= button_to 'Destroy', user_book, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
  <tr>
    <td colspan='2'>
      <%= button_to 'New User Book', new_user_book_path, method: :get %>
    </td>
  </tr>
</table>
<br>

<%= link_to 'Book Index', books_path %> <br>

<%= link_to 'User Index', users_path %>
